%EE569 HOMEWORK ASSIGNMENT 3
%DATE: Mar 11th 2021
%NAME: Siyu Li
%ID:2455870216
%E-mail:lisiyu@usc.edu
function stage1result_S = stage1Filter_S(bond, img_ori)
[m,n] = size(bond);
imgpad=hw3zeroPadding(img_ori,1);
stage1result_S = zeros(m,n);

for i=1:m
    for j=1:n
        neighborInfo=[imgpad(i,j),imgpad(i,j+1),imgpad(i,j+2),imgpad(i+1,j),imgpad(i+1,j+2),...
            imgpad(i+2,j),imgpad(i+2,j+1),imgpad(i+2,j+2)];
        switch bond(i,j)
            case 1 % 1
                stage1result_S(i,j) = matrixCompare(neighborInfo,[0,0,1,0,0,0,0,0]) || ...
                    matrixCompare(neighborInfo,[1,0,0,0,0,0,0,0]) || ...
                    matrixCompare(neighborInfo,[0,0,0,0,0,1,0,0]) || ...
                    matrixCompare(neighborInfo,[0,0,0,0,0,0,0,1]);
            case 2 % 2
                stage1result_S(i,j) = matrixCompare(neighborInfo,[0,0,0,0,1,0,0,0]) || ...
                    matrixCompare(neighborInfo,[0,1,0,0,0,0,0,0]) || ...
                    matrixCompare(neighborInfo,[0,0,0,1,0,0,0,0]) || ...
                    matrixCompare(neighborInfo,[0,0,0,0,0,0,1,0]);
            case 3 % 3
                stage1result_S(i,j) = matrixCompare(neighborInfo,[0,0,1,0,1,0,0,0]) || ...
                    matrixCompare(neighborInfo,[0,1,1,0,0,0,0,0]) || ...
                    matrixCompare(neighborInfo,[1,1,0,0,0,0,0,0]) || ...
                    matrixCompare(neighborInfo,[1,0,0,1,0,0,0,0]) || ...
                    matrixCompare(neighborInfo,[0,0,0,1,0,1,0,0]) || ...
                    matrixCompare(neighborInfo,[0,0,0,0,0,1,1,0]) || ...
                    matrixCompare(neighborInfo,[0,0,0,0,0,0,1,1]) || ...
                    matrixCompare(neighborInfo,[0,0,0,0,1,0,0,1]);
            case 4 % 5
                stage1result_S(i,j) = matrixCompare(neighborInfo,[0,0,1,0,1,0,0,1]) || ...
                    matrixCompare(neighborInfo,[1,1,1,0,0,0,0,0]) || ...
                    matrixCompare(neighborInfo,[1,0,0,1,0,1,0,0]) || ...
                    matrixCompare(neighborInfo,[0,0,0,0,0,1,1,1]);
            case 5 % 6
                stage1result_S(i,j) = matrixCompare(neighborInfo,[1,1,0,0,1,0,0,0]) || ...
                    matrixCompare(neighborInfo,[0,1,0,0,1,0,0,1]) || ...
                    matrixCompare(neighborInfo,[0,1,1,1,0,0,0,0]) || ...
                    matrixCompare(neighborInfo,[0,0,1,0,1,0,1,0]) || ...& 7
                    matrixCompare(neighborInfo,[0,1,1,0,1,0,0,0]) || ...
                    matrixCompare(neighborInfo,[1,1,0,1,0,0,0,0]) || ...
                    matrixCompare(neighborInfo,[0,0,0,1,0,1,1,0]) || ...
                    matrixCompare(neighborInfo,[0,0,0,0,1,0,1,1]);
            case 6 % 8
                stage1result_S(i,j) = matrixCompare(neighborInfo,[1,1,0,0,1,0,0,1]) || ...
                    matrixCompare(neighborInfo,[0,1,1,1,0,1,0,0]) || ...% 9
                    matrixCompare(neighborInfo,[1,1,1,0,1,0,0,0]) || ...
                    matrixCompare(neighborInfo,[0,1,1,0,1,0,0,1]) || ...
                    matrixCompare(neighborInfo,[1,1,1,1,0,0,0,0]) || ...
                    matrixCompare(neighborInfo,[1,1,0,1,0,1,0,0]) || ...
                    matrixCompare(neighborInfo,[1,0,0,1,0,1,1,0]) || ...
                    matrixCompare(neighborInfo,[0,0,0,1,0,1,1,1]) || ...
                    matrixCompare(neighborInfo,[0,0,0,0,1,1,1,1]) || ...
                    matrixCompare(neighborInfo,[0,0,1,0,1,0,1,1]);
            case 7 % 10
                stage1result_S(i,j) = matrixCompare(neighborInfo,[1,1,1,0,1,0,0,1]) || ...
                    matrixCompare(neighborInfo,[1,1,1,1,0,1,0,0]) || ...
                    matrixCompare(neighborInfo,[1,0,0,1,0,1,1,1]) || ...
                    matrixCompare(neighborInfo,[0,0,1,0,1,1,1,1]);
            case 8 % 11
                stage1result_S(i,j) = matrixCompare(neighborInfo,[0,1,1,0,1,0,1,1]) || ...
                    matrixCompare(neighborInfo,[1,1,1,1,1,0,0,0]) || ...
                    matrixCompare(neighborInfo,[1,1,0,1,0,1,1,0]) || ...
                    matrixCompare(neighborInfo,[0,0,0,1,1,1,1,1]);
            case 9 % 12
                stage1result_S(i,j) = matrixCompare(neighborInfo,[1,1,1,0,1,0,1,1]) || ...
                    matrixCompare(neighborInfo,[0,1,1,0,1,1,1,1]) || ...
                    matrixCompare(neighborInfo,[1,1,1,1,1,1,0,0]) || ...
                    matrixCompare(neighborInfo,[1,1,1,1,1,0,0,1]) || ...
                    matrixCompare(neighborInfo,[1,1,1,1,0,1,1,0]) || ...
                    matrixCompare(neighborInfo,[1,1,0,1,0,1,1,1]) || ...
                    matrixCompare(neighborInfo,[1,0,0,1,1,1,1,1]) || ...
                    matrixCompare(neighborInfo,[0,0,1,1,1,1,1,1]);
            case 10 % 13
                stage1result_S(i,j) = matrixCompare(neighborInfo,[1,1,1,0,1,1,1,1]) || ...
                    matrixCompare(neighborInfo,[1,1,1,1,1,1,0,1]) || ...
                    matrixCompare(neighborInfo,[1,1,1,1,0,1,1,1]) || ...
                    matrixCompare(neighborInfo,[1,0,1,1,1,1,1,1]);
            otherwise
                stage1result_S(i,j) = 0;
        end
    end
end




end